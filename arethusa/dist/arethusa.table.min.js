/*
 * Arethusa - a backend-independent client-side annotation framework
 * http://github.com/alpheios-project/arethusa
 *
 * Version 0.2.5
 * built from branch widget
 * at 0a82a2ad9cc7468ea781bfa023a1dddbd77130c6
 * on 2020-12-07T15:20:56.224Z
 *
 * Published under the MIT license
 */

angular.module("arethusa.table",[]),angular.module("arethusa.table").directive("morphSelector",["state","morph",function(a,b){return{restrict:"A",scope:{token:"=morphToken"},link:function(c,d,e){function f(b,d){var e=b,f=d;return function(){c.form=f,a.change(e.id,"morphology",f)}}function g(a){var b=a;return function(){c.form=b}}c.analyses=b.analyses[c.token.id].forms,c.form=c.token.morphology,c.longForm=function(a){var c=b.concatenatedAttributes(a);return a.lemma+":"+c},c.onChange=function(){a.change(c.token.id,"morphology",c.form,f(c.token,c.token.morphology),g(c.form))}},template:'<select class="no-margin compact" ng-model="form" ng-options="analysis as longForm(analysis) for analysis in analyses" ng-change="onChange()"></select>'}}]),angular.module("arethusa.table").service("table",["$rootScope","$modal","state","configurator","navigator","keyCapture","commons","userPreferences","morph",function(a,b,c,d,e,f,g,h,i){function j(){d.getConfAndDelegate(k,l)}var k=this;this.name="table";var l=[];this.getTokens=function(){return c.tokens},this.getAnalyses=function(a){return i.analyses[a]},this.openCreate=function(c){a.morphcreateform={id:c,token:k.getAnalyses(c)},b.open({template:"<morph-form-create morph-token='$root.morphcreateform.token' morph-id='$root.morphcreateform.id'></morph-form-create>"})},this.init=function(){j()}}]),angular.module("arethusa.table").run(["$templateCache",function(a){"use strict";a.put("js/arethusa.table/templates/table.html",'<table lang-specific>\n    <tr>\n        <th translate="table.id"></th>\n        <th translate="table.word"/>\n        <th translate="table.head"/>\n        <th translate="table.relation"/>\n        <th translate="table.morph"/>\n        <th translate="table.new"/>\n        <th translate="table.comment"/>\n    </tr>\n  <tr ng-repeat="token in plugin.getTokens()">\n      <td>{{token.id}}</td>\n      <td>\n        <span\n            token="token"\n            colorize="true"\n            click="true"\n            hover="true"\n            highlight="true">\n        </span>\n      </td>\n      <td>{{token.head.id}}</td>\n      <td><div label-selector obj="token.relation"/></td>\n      <td>\n          <div morph-selector morph-token="token"></div>\n      </td>\n      <td>\n          <button ng-click="plugin.openCreate(token.id)" class="tiny no-margin" translate="table.add"></button>\n          \x3c!--morph-form-create morph-token="plugin.getAnalyses(token.id)" morph-id="token.id"></morph-form-create--\x3e\n      </td>\n      <td>\n          <div inline-comment comment-token="token"></div>\n      </td>\n  </tr>\n</table>')}]);
//# sourceMappingURL=arethusa.table.min.map