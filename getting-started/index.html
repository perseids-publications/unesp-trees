<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Getting Started With the Treebank Template</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <style type="text/css">
      body {
        font-family: Arial, sans-serif;
        margin: 5em;
      }
      img {
        margin: 1em;
        border: 1px solid black;
      }
      code {
        font-weight: bold;
        font-family: Courier, serif;
      }
      ol {
        margin:1em;
      }
      li {
        margin-bottom: 1em;
      }
    </style>
  </head>
  <body>
    <h2>Overview</h2>
    <p>These instructions walk you through the basics of getting started with
      creating your own repository for publishing treebank data on GitHub using
      the Perseids Publications Treebank Template.
    </p>
    <h2>Minimum Prerequisities</h2>
    <ol>
      <li>Have some treebank data files to publish. Currently this publication
        template requires
      treebank XML files that adhere to the
      <a href="https://perseusdl.github.io/treebank_data/"
      target="_blank">Perseus Ancient Greek and Latin Treebank (AGDT)</a> Schema
      and one of the
      <a href="https://github.com/alpheios-project/arethusa-configs/tree/master/configs"
      target="_blank">
      tagsets</a> supported by Arethusa. For more information on
      compliant treebank data with Perseids and Arethusa see the
      <a href="https://perseids.org" target="_blank">Perseids</a> website
      or email <a href="perseids@tufts.edu">perseids at tufts dot edu</a>.
      <li>Create an account on
        <a href="https://github.com" target="_blank">GitHub</a></li>
      <li>Although not absolutely necessary just to get started, we recommend getting
        familiar with how to use
        <a href="https://help.github.com/en/github/getting-started-with-github"
        target="_blank">GitHub and the Git version control system</a>
        as well as having a basic understanding of how to edit and create
        create <a href="https://www.w3schools.com/js/js_json_intro.asp"
        target="_blank">JSON</a> files.  Without these skills it may be difficult
        for you to fully manage your treebank publication site and troubleshoot
        any problems you might encounter with it.
      </li>
    </ol>
    <h2>Instructions</h2>
    <ol>
      <li><b>Fork the base Repository</b>
        <ol>
          <li>Login to your GitHub account at
            <a href="https://github.com" target="_blank">https://github.com</a>
          </li>
          <li>Go to
            <a href="https://github.com/perseids-publications/treebank-template"
            target="_blank">https://github.com/perseids-publications/treebank-template</a>
          </li>
          <li>Click the <code>Fork</code> button.
             <div><a href="fork.png" target="_blank"><img src="fork.png" width="800px"></a></div>
             This puts a copy of the treebank-template repository into your own
             GitHub account.
          </li>
        </ol>
      </li>
      <li><b>Set Up GitHub Actions</b></li>
        <ol>
          <li>Immediately after forking the repository, you should be prompted
            by GitHub to enable actions on your repository.
            Click <code>Set Up Actions</code>.
             <div><a href="forked.png" target="_blank"><img src="forked.png" width="800px"></a></div>
          </li>
          <li>(If you aren't prompted, click on the <code>Actions</code> tab
            yourself anyway.)</li>
          <li>Click <code>I understand my workflows, go ahead and enable them</code>.
             <div><a href="actions-enable.png" target="_blank"><img src="actions-enable.png" width="800px"></a></div>
             This step is necessary in order for GitHub to update your GitHub Pages
             site automatically whenever you update or add files to your repository.
             For more information on GitHub actions see <a href="https://help.github.com/en/actions"
             target="_blank">GitHub Actions Help</a>.
          </li>
        </ol>
      </li>
      <li><b>Update the home page link for your site</b>
        <ol>
          <li>Click the <code>package.json</code> file in the root directory of
            the repository.
             <div><a href="package.png" target="_blank"><img src="package.png" width="800px"></a></div>
          </li>
          <li>Click the <code>edit</code> icon.
             <div><a href="edit.png" target="_blank"><img src="edit.png" width="800px"></a></div>
          </li>
          <li>Replace <code>perseids-publications.github.io</code> with, e.g.,
            <code>yourgithubaccount.github.io</code>.
            That is, if your GitHub user name is "janedoe" you would change
            <code>https://perseids-publications.github.io/treebank-template/</code> to
            <code>https://janedoe.github.io/treebank-template/</code>
             <div><a href="homepage.png" target="_blank"><img src="homepage.png" width="800px"></a></div>
          </li>
          <li>Scroll to the bottom of the page to <code>Commit Changes</code>
            and enter a message to describe your
            change to this file. (e.g. something like "Updated homepage link")
          </li>
          <li>Make sure the option <code>Commit directly to the master branch</code>
            is selected
             <div><a href="commit.png" target="_blank"><img src="commit.png" width="800px"></a></div>
          </li>
          <li>Click <code>Commit Changes</code></li>
        </ol>
      </li>
      <li><b>Set Up GitHub Pages</b>
        <ol>
          <li>Click the <code>Settings</code> button
             <div><a href="settings.png" target="_blank"><img src="settings.png" width="800px"></a></div>
           </li>
           <li>Scroll down to the <code>GitHub Pages</code> section of the page.</li>
          <li>Select <code>gh-pages branch</code> for the source from the
            dropdown. <b>NOTE:</b> it is important that you select the
            <code>gh-pages branch</code> option from the dropdown, <b>even if
              its preselected</b>. It seems that the process of actually selecting it is
              necessary to trigger GitHub to actually acknowledge the setting.
              After this, you should see a notice <code>Your site is ready to be
              published at https://youraccount.github.io/treebank-template</code>
             <div><a href="ghpages.png" target="_blank"><img src="ghpages.png" width="800px"></a></div>
          </li>
        </ol>
      </li>
      <li><b>Update Site Details</b>
        <ol>
          <li>Go back to the <code>Code</code> tag and navigate to
            the <code>src</code> directory. Click on the <code>config.json</code>
            file.
             <div><a href="config.png" target="_blank"><img src="config.png" width="800px"></a></div>
          </li>
          <li>Edit the file and update the following data fields:
            <ul>
              <li><code>title</code>: set this to whatever you whe the title of your
              site to be.</li>
              <li><code>subtitle</code>: set this to a subtitle you want to show for
                your site. It can be the empty string ("").</li>
              <li><code>doi</code>: set this to the empty string for now (""). (More
                information on adding a DOI  is provided in the repository README.md file.)</li>
              <li><code>copyright</code>: set this to whatever copyright statement
                  you want for your data files. We recommend using a
                  <a href="https://creativecommons.org" target="_blank">Creative
                    Commons license</a>.</li>
              <li><code>report</code>: if you want people to be able to report any
                  problems they find in your data, you can set this to the
                  issues url for your repository by replacing
                  <code>perseids-publications</code> with your GitHub account
                  name.  Otherwise set it to the empty string ("").</li>
              <li><code>github</code>: replace <code>perseids-publications</code>
                  with your GitHub account name.</li>
              <li><code>twitter</code>: replace this with your own Twitter handle
                  url or else the empty string ("")</li>
            </ul>
            <div><a href="config-edit.png" target="_blank"><img src="config-edit.png" width="800px"></a></div>
          </li>
          <li>Scroll to the bottom of the page to <code>Commit Changes</code>
            and enter a message to describe your change to this file.
            (e.g. something like "Updated site config.")
          </li>
          <li>Make sure the option <code>Commit directly to the master
            branch</code> is selected
            <div><a href="commit.png" target="_blank"><img src="commit.png" width="800px"></a></div>
          </li>
        </ol>
      </li>
      <li>Go back to the <code>Actions</code> tab.</li>
      <li>You should see that your build workflow is in progress.
           <div><a href="progress.png" target="_blank"><img src="progress.png" width="800px"></a></div>
      </li>
      <li>And finally that it succeeds.</li>
           <div><a href="success.png" target="_blank"><img src="success.png" width="800px"></a></div>
      </li>
      <li>At this point, your GitHub web page should be published and updated at https://(youraccountname).github.io
           <div><a href="site.png" target="_blank"><img src="site.png" width="800px"></a></div>
          So far it is published only with the default treebank files that come with the template. The next steps
          show you had to add a new file.
      </li>
      <li>Return to the <code>Code</code> tab of the repository in GitHub and navigate to the <code>public/xml</code>
        directory.
      </li>
      <li>Click the <code>Upload</code> button.
           <div><a href="upload.png" target="_blank"><img src="upload.png" width="800px"></a></div>
      </li>
      <li>Upload your file.</li>
      <li>Navigate to the <code>src</code> directory of your repository.</li>
      <li>Edit the <code>config.json</code> file again.</li>
      <li>You need to add a new entry for the file you just added to the the
        <code>publications</code> section of the file. For each file added you need to define
        the following fields:
        <ul>
          <li><code>path</code>: the virtual path for the files associated with
            the treebank publication - this can be anything
            you want, but avoid spaces and special characters.</li>
          <li><code>author</code>: this should be set to be the author of the
            text that is the subject of the treebank publication.</li>
          <li><code>work</code>: this should identify the text that is the subject
            of the treebank publication.</li>
          <li><code>editors</code>: here you can list anybody who contributed to
            the treebank publication.</li>
          <li><code>sections</code>: each treebank publication can be composed of
            one or more files (e.g. a very large text might be broken into
            chapters). In our example so far, we just have a publication
            made up of a single file. For each file added to the parent
            publication, we need a separate entry made up of the following fields:
            <ul>
              <li><code>locus</code>: this is the text that will be shown as the link to the file
                on the site. Normally this is set to the range of sentences in the tree but it
                can be any text that makes sense for your data.
              </li>
              <li><code>path</code>: the virtual path for the file. It can be anything you
                choose. A normal practice is to use the filename without the .xml extension.
                Avoid spaces and special characters.
              </li>
              <li><code>xml</code>: this is the actual path to the file under the
                <code>public/xml</code> directory (excluding the
                <code>public/xml/</code> part of the path).
              </li>
              <li><code>chunks</code>: this contains two sub fields
                <ul><li><code>start</code>: the starting sentence number in your file</code></li>
                  <li><code>end</code>: the ending sentence number in your file</code></li>
                </ul>
              </li>
            </ul>
          </li>
        </ul>
       <div><a href="mytrees-config.png" target="_blank"><img src="mytrees-config.png" width="800px"></a></div>
      </li>
      <li>It's a good idea to make sure the file parses as valid JSON prior to saving it. The JSON validator
        at <a href="https://jsonlint.com/" target="_blank">https://jsonlint.com</a> is a good resource to use for that.
      </li>
      <li>Save and commit your changes to the master branch.</li>
      <li>After the build succeeds, you should now see your new tree publication added to the site.
         <div><a href="mytrees-site.png" target="_blank"><img src="mytrees-site.png" width="800px"></a></div>
       </li>
    </ol>
    <p>You now have the basics of how to get started with creating a GitHub based publication
      of your treebank data using the Perseids Publications treebank template. From here you can proceed to remove
      the sample data from the publication by removing the files from the <code>public/xml</code> directory and removing the
      corresponding entries in the <code>src/config.json</code> file (doing so requires a local clone of your
      GitHub respository). You can also add additional files and publications,
      create a DOI for your data and <a href="../examples/alpheios-integration/index.html">integrate it with Alpheios</a>.
      For additional information see also the repository's README.md file and the docs/Config.md file.
  </body>
</html>
